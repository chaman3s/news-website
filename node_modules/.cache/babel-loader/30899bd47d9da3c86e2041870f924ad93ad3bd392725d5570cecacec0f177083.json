{"ast":null,"code":"import React,{useEffect,useState}from'react';import data from\"../sampleOutput.json\";import NewsItem from'./NewsItem';import Spinner from'./Spinner';import InfiniteScroll from\"react-infinite-scroll-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const News=props=>{const[articles,setArticles]=useState([]);const[loading,setLoading]=useState(true);const[page,setPage]=useState(1);const[totalResults,setTotalResults]=useState(0);const capitalizeFirstLetter=string=>{return string.charAt(0).toUpperCase()+string.slice(1);};const updateNews=async()=>{props.setProgress(10);// const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&page=${page}&pageSize=${props.pageSize}`; \n// console.log(url);\nsetLoading(true);// let data = await fetch(url);\nprops.setProgress(30);let parsedData;console.log(\"ok\",parsedData);data.sample.map(element=>{if(element.category==props.category){parsedData=element.data;}});props.setProgress(70);setArticles(parsedData.articles);setTotalResults(parsedData.totalResults);setLoading(false);props.setProgress(100);};useEffect(()=>{document.title=\"\".concat(capitalizeFirstLetter(props.category),\" - NewsMonkey\");updateNews();// eslint-disable-next-line\n},[]);const fetchMoreData=async()=>{// console.log(\"helloo\",props.apiKey);\n// const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&page=${page+1}&pageSize=${props.pageSize}`;\n// setPage(page+1) \n// let data = await fetch(url);\nlet parsedData=await data.json();console.log(parsedData);setArticles(articles.concat(parsedData.articles));setTotalResults(parsedData.totalResults);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",style:{margin:'35px 0px',marginTop:'90px'},children:[\"NewsMonkey - Top \",capitalizeFirstLetter(props.category),\" Headlines\"]}),loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:articles.length,hasMore:articles.length!==totalResults,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:articles.map(element=>{return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})})})})]});};News.defaultProps={country:'in',pageSize:8,category:'general'};export default News;","map":{"version":3,"names":["React","useEffect","useState","data","NewsItem","Spinner","InfiniteScroll","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","News","props","articles","setArticles","loading","setLoading","page","setPage","totalResults","setTotalResults","capitalizeFirstLetter","string","charAt","toUpperCase","slice","updateNews","setProgress","parsedData","console","log","sample","map","element","category","document","title","concat","fetchMoreData","json","children","className","style","margin","marginTop","dataLength","length","hasMore","loader","description","imageUrl","urlToImage","newsUrl","url","author","date","publishedAt","source","name","defaultProps","country","pageSize"],"sources":["/home/chaman/project/newsapp/src/component/News.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport data  from \"../sampleOutput.json\"\nimport NewsItem from './NewsItem'\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types'\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst News = (props)=>{\n    const [articles, setArticles] = useState([]);\n    const [loading, setLoading] = useState(true)\n    const [page, setPage] = useState(1)\n    const [totalResults, setTotalResults] = useState(0)\n    \n    const capitalizeFirstLetter = (string) => {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    } \n\n    const updateNews = async ()=> {\n        props.setProgress(10);\n        \n        // const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&page=${page}&pageSize=${props.pageSize}`; \n        // console.log(url);\n        setLoading(true)\n        // let data = await fetch(url);\n        props.setProgress(30);\n        let parsedData;\n        console.log(\"ok\",parsedData);\n        data.sample.map(((element)=>{if(element.category==props.category){parsedData=element.data}}));\n        props.setProgress(70);\n        setArticles(parsedData.articles)\n        setTotalResults(parsedData.totalResults)\n        setLoading(false)\n        props.setProgress(100);\n    }\n\n    useEffect(() => {\n        document.title = `${capitalizeFirstLetter(props.category)} - NewsMonkey`;\n        updateNews(); \n        // eslint-disable-next-line\n    }, [])\n\n\n    const fetchMoreData = async () => {   \n        // console.log(\"helloo\",props.apiKey);\n        // const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&page=${page+1}&pageSize=${props.pageSize}`;\n        // setPage(page+1) \n        // let data = await fetch(url);\n\n        let parsedData = await data.json()\n        console.log(parsedData);\n        setArticles(articles.concat(parsedData.articles))\n        setTotalResults(parsedData.totalResults)\n      };\n \n        return (\n            <>\n                <h1 className=\"text-center\" style={{ margin: '35px 0px', marginTop: '90px' }}>NewsMonkey - Top {capitalizeFirstLetter(props.category)} Headlines</h1>\n                {loading && <Spinner />}\n                <InfiniteScroll\n                    dataLength={articles.length}\n                   \n                    hasMore={articles.length !== totalResults}\n                    loader={<Spinner/>}\n                > \n                    <div className=\"container\">\n                         \n                    <div className=\"row\">\n                        {articles.map((element) => {\n                            return <div className=\"col-md-4\" key={element.url}>\n                                <NewsItem title={element.title ? element.title : \"\"} description={element.description ? element.description : \"\"} imageUrl={element.urlToImage} newsUrl={element.url} author={element.author} date={element.publishedAt} source={element.source.name} />\n                            </div>\n                        })}\n                    </div>\n                    </div> \n                </InfiniteScroll>\n            </>\n        )\n    \n}\n\n\nNews.defaultProps = {\n    country: 'in',\n    pageSize: 8,\n    category: 'general',\n}\n\nNews.propTypes = {\n    country: PropTypes.string,\n    pageSize: PropTypes.number,\n    category: PropTypes.string,\n}\n\nexport default News\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}